<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Improvement Ticket</title>

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="iTicket.css" />
    <script type="importmap">
      {
        "imports": {
          "axios": "https://cdn.jsdelivr.net/npm/axios@1.3.5/+esm"
        }
      }
    </script>
  </head>
  <body>
    <div class="container improvement-ticket-container">
      <div class="row header-row">
        <div class="col-md-2">
          <img
            src="../../assets/images/pembroke-hospital-logo.jpg"
            alt="PRH Logo"
            class="logo"
          />
        </div>
        <div class="col-md-10 header-title">
          <h2>Improvement Ticket</h2>
          <!-- <div class="ticket-details">
            <div><strong>Name:</strong> Yun Wang(Jeremy)</div>
            <div><strong>Date created:</strong> 2024-03-02</div>
          </div> -->
        </div>
      </div>
      <div class="row">
        <div class="col-8">
          <form id="improvementForm">
            <!-- Input field for date -->
            <div class="form-group">
              <label for="ticketDate">Date:</label>
              <input type="date" id="ticketDate" class="form-control" />
            </div>
            <!-- Dropdown for category section -->
            <div class="form-group">
              <label for="departmenetSelect">Department</label>
              <select id="departmentSelect" class="form-control">
                <!-- Options will be added dynamically using JavaScript -->
              </select>
            </div>
            <!-- New textarea for ticket name -->
            <div class="form-group">
              <label for="ticketName">Ticket Submitter:</label>
              <textarea id="ticketName" rows="1"></textarea>
            </div>
            <!-- Form content goes here -->
            <div class="form-group">
              <label for="problemDescription"
                >1. Describe the Problem (what, when, how often, impact):</label
              >
              <textarea id="problemDescription" rows="2"></textarea>
            </div>

            <div class="form-group">
              <label for="sourceIssue">2. What is causing the problem?</label>
              <textarea id="sourceIssue" rows="2"></textarea>
            </div>

            <div class="form-group">
              <label for="proposedSolution">3. Idea to make it better:</label>
              <textarea id="proposedSolution" rows="2"></textarea>
            </div>

            <div class="form-group">
              <p>4. Input needed from?</p>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="inputNeededFrom"
                  value="Patient Family"
                  id="patientFamily"
                />
                <label class="form-check-label" for="patientFamily"
                  >Patient or Family</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="inputNeededFrom"
                  value="Comunity Partner"
                  id="communityPartner"
                />
                <label class="form-check-label" for="communityPartner"
                  >Community Partner</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="inputNeededFrom"
                  value="Other Departments"
                  id="otherDepartments"
                />
                <label class="form-check-label" for="otherDepartments"
                  >Other Department(s)</label
                >
              </div>
            </div>

            <div class="form-group">
              <p>5. Safety issue?</p>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="safetyIssue"
                  value="Occupational Health Safety"
                  id="occupationalHealthSafety"
                />
                <label class="form-check-label" for="occupationalHealthSafety"
                  >Occupational Health & Safety</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="safetyIssue"
                  value="Patient Safety"
                  id="patientSafety"
                />
                <label class="form-check-label" for="patientSafety"
                  >Patient Safety</label
                >
              </div>
            </div>

            <div class="form-group">
              <p>6. Link to our Quadruple Aim?</p>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="quadrupleAim"
                  value="1"
                  id="patientExperience"
                />
                <label class="form-check-label" for="patientExperience"
                  >Patient & Family Experience</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="quadrupleAim"
                  value="2"
                  id="bestHealthOutcome"
                />
                <label class="form-check-label" for="bestHealthOutcome"
                  >Best Possible Health Outcome</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="quadrupleAim"
                  value="3"
                  id="providerExperience"
                />
                <label class="form-check-label" for="providerExperience"
                  >Provider Experience</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="quadrupleAim"
                  value="4"
                  id="valueEfficiency"
                />
                <label class="form-check-label" for="valueEfficiency"
                  >Value & Efficiency</label
                >
              </div>
            </div>
            <!-- Dropdown for category section -->
            <div class="form-group">
              <label for="categorySelect">7. Category:</label>
              <select id="categorySelect" class="form-control">
                <!-- Options will be added dynamically using JavaScript -->
              </select>
            </div>
            <div class="note">
              *Note: The following section needs to be completed at huddle with
              input from Team.
            </div>
            <div class="form-group">
              <label for="groupDiscussionOutcome"
                >Group Discussion Outcome: Team-Ratified Solution</label
              >
              <textarea id="groupDiscussionOutcome" rows="2"></textarea>
            </div>
            <div class="form-group">
              <label>Is Archived:</label><br />
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  name="isArchived"
                  id="isArchivedYes"
                  value="true"
                />
                <label class="form-check-label" for="isArchivedYes">Yes</label>
              </div>
              <div class="form-check form-check-inline">
                <input
                  class="form-check-input"
                  type="radio"
                  name="isArchived"
                  id="isArchivedNo"
                  value="false"
                  checked
                />
                <label class="form-check-label" for="isArchivedNo">No</label>
              </div>
            </div>
          </form>

          <div class="btn-section">
            <button type="button" class="btn btn-primary" id="saveButton">
              Save
            </button>
            <button type="button" id="backButton" class="btn btn-secondary">
              Back
            </button>
          </div>
        </div>

        <div class="col-4">
          <!-- Progress Notes Section -->
          <div class="progress-notes-header">
            <h3>Progress Notes and Tracking</h3>
          </div>
          <div class="form-group">
            <input
              type="text"
              id="updateInput"
              class="form-control mb-2"
              placeholder="Update on the improvement work"
            />
            <input
              type="text"
              id="ownerInput"
              class="form-control mb-2"
              placeholder="Owner"
            />
            <input
              type="date"
              id="dateInput"
              class="form-control mb-2"
              placeholder="Date"
            />
            <button type="button" id="addProgressNote" class="btn btn-primary">
              Add Note
            </button>
          </div>
          <table class="table table-bordered" id="progressNotesTable">
            <thead>
              <tr>
                <th scope="col">Update on the improvement work</th>
                <th scope="col">Owner</th>
                <th scope="col">Date</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
    <script type="module" src="./updateTicketForm.js"></script>
  </body>
</html>
